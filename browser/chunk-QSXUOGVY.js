import{a as De,b as ae}from"./chunk-726U4HJQ.js";import{a as j,b as He,c as qe,d as $e,e as S,f as ze,g as re,h as oe,i as Ue,j as se}from"./chunk-LNQF5QTD.js";import{$ as C,Aa as Te,B as I,C as y,D,E as z,Ea as ie,Fa as L,G as f,Ga as G,H as b,Ha as Me,I as P,Ia as M,J,L as U,M as V,O as Y,Q as c,R as u,Ra as H,Ta as ne,Ua as Re,V as K,X as Q,Y as x,Ya as ge,Z as T,_ as h,_a as Fe,aa as ye,ab as Pe,ba as n,bb as q,c as dt,ca as r,cb as Oe,d as ct,da as m,db as Ne,e as X,ea as w,fa as v,fb as R,ga as g,gb as je,ha as W,i as xe,ia as ee,ib as Ve,j as we,ja as me,ka as Ce,kb as Ae,lb as Be,mb as Le,nb as Ge,o as Se,oa as Ee,pa as te,qa as l,ra as E,sa as O,ta as pe,ua as N,w as Z,wa as ke,x as F,xa as Ie,ya as ue,za as he}from"./chunk-MVDRCKYG.js";var it=dt(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.loadMercadoPago=void 0;var tt="https://sdk.mercadopago.com/js/v2",jt=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,et="MercadoPago has already been initialized in your window, please remove the duplicate import",Vt="MercadoPago.js not available",At="Failed to load MercadoPago.js",Bt=()=>{for(var a=document.querySelectorAll(`script[src^="${tt}"`),i=0;i<a.length;i++){var s=a[i];if(jt.test(s.src))return s}return null},Lt=()=>{let a=document.createElement("script");a.src=tt;let i=document.head||document.body;if(!i)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return i.appendChild(a),a},de=null,Gt=()=>(de!==null||(de=new Promise((a,i)=>{if(typeof window>"u"){a(null);return}if(window.MercadoPago){console.warn(et),a(window.MercadoPago);return}try{let s=Bt();s?console.warn(et):s||(s=Lt()),s.addEventListener("load",()=>{window.MercadoPago?a(window.MercadoPago):i(new Error(Vt))}),s.addEventListener("error",()=>{i(new Error(At))})}catch(s){i(s);return}})),de);ce.loadMercadoPago=Gt});function pt(a,i){if(a&1&&(n(0,"li",68)(1,"a",69),l(2),r()()),a&2){let s=g();c(2),E(s.username)}}function ut(a,i){a&1&&(n(0,"li",68)(1,"a",70),l(2,"Administracion"),r()())}function ht(a,i){if(a&1){let s=w();n(0,"div",58),m(1,"img",71),n(2,"div",60)(3,"div")(4,"h3",72),l(5),r(),n(6,"p",61),l(7),r(),n(8,"button",73),v("click",function(){f(s);let t=g();return b(t.navigateToSection("raffles"))}),l(9,"Participar "),P(),n(10,"svg",74),m(11,"g",75)(12,"g",76),n(13,"g",77),m(14,"path",78),r()()()()()()}if(a&2){let s=i.$implicit;c(),h("src",s.event_images[0].image_url,Y),c(4),E(s.event_name),c(2),E(s.event_description)}}function gt(a,i){if(a&1&&(n(0,"div",79)(1,"div",80)(2,"h1",81),l(3),r(),n(4,"p",82),l(5),r(),n(6,"p",83),l(7,"Numeros disponibles"),r(),n(8,"div",84)(9,"div",85),l(10),r()(),n(11,"a",86),l(12,"Comprar numeros "),P(),n(13,"svg",74),m(14,"g",75)(15,"g",76),n(16,"g",77),m(17,"path",87)(18,"path",88)(19,"path",89),r()()()()()),a&2){let s=i.$implicit;c(3),E(s.event_name),c(2),E(s.event_range.original_range_numbers.length),c(4),te("width: ",s.event_range.percentage,"%;"),T("aria-valuenow",s.event_range.percentage),c(),O("",s.event_range.percentage,"%"),c(),Ce("routerLink","/event/",s.id,"")}}var Xe=(()=>{let i=class i{constructor(e,t){this.eventService=e,this.authService=t,this.events=[],this.username=null}ngOnInit(){return X(this,null,function*(){this.getEvents(),this.getSession()})}getSession(){if(this.authService.hasAccess().active){let e=De.parseJwt(this.authService.getAccessToken());this.username=e.username,console.log(this.username)}}getEvents(){this.eventService.getAllEvents().subscribe({next:e=>{console.log(e);for(let o=0;o<e.data.length;o++){let d=e.data[o];if(d.event_range.range&&d.event_range.range_numbers){let p=d.event_range.range.split("-"),_=d.event_range.range_numbers.split(","),$=[],k;for(var t=Number(p[0]);t<=Number(p[1]);t++)$.push(t);k=100*_.length/$.length,d.event_range.percentage=Math.round(k),d.event_range.original_range_numbers=_}}this.events=e.data},error:e=>{console.error(e)}})}updateProgressBar(){for(let e=0;e<this.events.length;e++){let t=this.events[e];t.event_range.percentage>=100||t.event_range.percentage++}}scrollTo(e){window.location.hash=e}ngOnDestroy(){}navigateToSection(e){window.location.hash="",window.location.hash=e}};i.\u0275fac=function(t){return new(t||i)(u(j),u(ae))},i.\u0275cmp=y({type:i,selectors:[["app-home"]],standalone:!0,features:[N],decls:135,vars:4,consts:[["nextBtn",""],[1,"navbar","navbar-expand-lg","navbar-dark","navbar-fixed"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../../assets/img/logo.png","alt","","width","150px"],["id","bigBox_"],["id","box_"],["id","box2_"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["fragment","help",1,"nav-link",3,"click"],["class","nav-item float-end",4,"ngIf"],["id","sorteosCarrusel","data-bs-ride","carousel",1,"carousel","slide","carousel-fade"],[1,"carousel-inner",2,"height","100vh"],["class","carousel-item active",4,"ngFor","ngForOf"],["id","nextBtn","type","button","data-bs-target","#sorteosCarrusel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"visually-hidden"],["id","bigBox"],["id","box"],["id","box2"],["id","box3"],["id","box4"],["id","raffles",1,"container-fluid","px-5"],[1,"hmax","fw-bold","my-5","text-light"],[1,"text-green-0"],[1,"row"],["class","p-5 col-12 col-lg-4",4,"ngFor","ngForOf"],["id","_bigBox"],["id","_box"],["id","_box2"],["id","_box3"],["id","_box4"],["id","help",1,"container-fluid","px-5"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"w-50","p-2"],[1,"card","bg-dark","border-0","shadow",2,"height","15rem"],[1,"card-img-top"],["src","../../../assets/img/1.jpeg","alt","...",1,"m-2","float-end","rounded-circle",2,"width","100px"],[1,"card-body","text-light"],[1,"card-title"],[1,"text-green-0","fw-bold"],[1,"card-text"],["src","../../../assets/img/2.jpeg","alt","...",1,"m-2","float-end","rounded-circle",2,"width","100px"],["src","../../../assets/img/3.jpeg","alt","...",1,"card-img-top","m-2","float-end","rounded-circle",2,"width","100px"],["src","../../../assets/img/4.jpeg","alt","...",1,"m-2","float-end","rounded-circle",2,"width","100px"],["id","how",1,"container-fluid","px-5"],[1,"mt-5"],["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner",2,"height","60vh"],[1,"carousel-item","active"],["src","https://www.cronicadelquindio.com/files/galerias/120200124054935.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"h3"],[1,"carousel-item"],["src","https://www.loteriadelhuila.com/a/images/Loteria---moto-2.jpg","alt","...",1,"d-block","w-100"],["src","https://media.primicias.ec/2022/05/20160041/televisor.jpg","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],[1,"nav-item","float-end"],["routerLink","/admin/dash/sales-event",1,"nav-link"],["routerLink","/auth/sign",1,"nav-link"],["alt","...",1,"d-block","w-100","h-100",3,"src"],[1,"hmax"],["fragment","raffles",1,"btn","btn-green-0","z-3","position-absolute",3,"click"],["width","30px","height","30px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M12 6V18M12 18L7 13M12 18L17 13","stroke","#ffffff","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"p-5","col-12","col-lg-4"],[1,"bg-dark","text-light","progress-card","px-5","py-4","rounded"],[1,"fw-bold","mb-5"],[1,"h1","text-center"],[1,"text-center"],[1,"progress",2,"height","30px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-green-0"],[1,"btn","btn-green-0","mt-5","w-100","btn-wiggle",3,"routerLink"],["d","M3 8C3 6.34315 4.34315 5 6 5H18C19.6569 5 21 6.34315 21 8V16C21 17.6569 19.6569 19 18 19H6C4.34315 19 3 17.6569 3 16V8Z","stroke","#ffffff","stroke-width","2"],["d","M3 10H21","stroke","#ffffff","stroke-width","2"],["d","M14 15L17 15","stroke","#ffffff","stroke-width","2","stroke-linecap","round"]],template:function(t,o){if(t&1){let d=w();n(0,"nav",1)(1,"div",2)(2,"a",3),m(3,"img",4),r(),n(4,"div",5),m(5,"div",6)(6,"div",7),r(),n(7,"button",8),m(8,"span",9),r(),n(9,"div",10)(10,"ul",11)(11,"li",12)(12,"a",13),l(13,"Sorteos"),r()(),n(14,"li",12)(15,"a",14),v("click",function(){return f(d),b(o.navigateToSection("help"))}),l(16,"\xBFC\xF3mo funciona?"),r()(),x(17,pt,3,1,"li",15)(18,ut,3,0,"li",15),r()()()(),n(19,"div",16)(20,"div",17),x(21,ht,15,3,"div",18),r(),n(22,"button",19,0),m(24,"span",20),n(25,"span",21),l(26,"Next"),r()()(),n(27,"div",22),m(28,"div",23)(29,"div",24)(30,"div",25)(31,"div",26),r(),n(32,"div",27)(33,"h3",28),l(34,"Sorteos "),n(35,"span",29),l(36,"actuales"),r()(),n(37,"div",30),x(38,gt,20,9,"div",31),r()(),n(39,"div",32),m(40,"div",33)(41,"div",34)(42,"div",35)(43,"div",36),r(),n(44,"div",37)(45,"h3",28),l(46,"\xBFC\xF3mo "),n(47,"span",29),l(48,"funciona?"),r()(),n(49,"div",38)(50,"div",39)(51,"div",40)(52,"div",41),m(53,"img",42),r(),n(54,"div",43)(55,"h5",44)(56,"span",45),l(57,"1."),r(),l(58," Elige el sorteo"),r(),n(59,"p",46),l(60,"Selecciona el premio por el cual deseas participar"),r()()()(),n(61,"div",39)(62,"div",40)(63,"div",41),m(64,"img",47),r(),n(65,"div",43)(66,"h5",44)(67,"span",45),l(68,"2."),r(),l(69," Elige un combo"),r(),n(70,"p",46),l(71,"Selecciona la cantidad de numeros con los cuales deseas participar."),r()()()(),n(72,"div",39)(73,"div",40)(74,"div",41),m(75,"img",48),r(),n(76,"div",43)(77,"h5",44)(78,"span",45),l(79,"3."),r(),l(80," Paga y rercibe"),r(),n(81,"p",46),l(82,"Paga por nuestra aplicacion, recibe tu ticker por correo o whatsapp."),r()()()(),n(83,"div",39)(84,"div",40)(85,"div",41),m(86,"img",49),r(),n(87,"div",43)(88,"h5",44)(89,"span",45),l(90,"4."),r(),l(91," Recibe tu premio."),r(),n(92,"p",46),l(93,"En caso de ser un feliz ganador te llegara la notificacion a tu telefono celular."),r()()()()()(),n(94,"div",50)(95,"h3",28),l(96,"Algunos de nuestros "),n(97,"span",29),l(98,"Ganadores"),r()(),n(99,"div",51)(100,"div",52)(101,"div",53),m(102,"button",54)(103,"button",55)(104,"button",56),r(),n(105,"div",57)(106,"div",58),m(107,"img",59),n(108,"div",60)(109,"h5"),l(110,"Gano el 12 de Abril"),r(),n(111,"p",61),l(112,"Una Camioneta kia ultimo modelo."),r()()(),n(113,"div",62),m(114,"img",63),n(115,"div",60)(116,"h5"),l(117,"Gano el 2 de Mayo"),r(),n(118,"p",61),l(119,"Una motocicleta o km."),r()()(),n(120,"div",62),m(121,"img",64),n(122,"div",60)(123,"h5"),l(124,"Gano el 5 de Mayo"),r(),n(125,"p",61),l(126,"Un televisor de 50 pulgadas."),r()()()(),n(127,"button",65),m(128,"span",66),n(129,"span",21),l(130,"Previous"),r()(),n(131,"button",67),m(132,"span",20),n(133,"span",21),l(134,"Next"),r()()()()()}t&2&&(c(17),h("ngIf",o.username),c(),h("ngIf",!o.username),c(3),h("ngForOf",o.events),c(17),h("ngForOf",o.events))},dependencies:[L,M,G,Re],styles:[".navbar[_ngcontent-%COMP%]{background-color:#21252966}.carousel-caption[_ngcontent-%COMP%]{background-color:#21252966;position:absolute;right:30%;bottom:48%;left:0%;padding-top:1.25rem;padding-bottom:1.25rem;padding-left:1.25rem;color:#fff;text-align:left;width:100%}.carousel-item[_ngcontent-%COMP%]{background-image:var(--image);width:100%;height:100%}"]});let a=i;return a})();var vt=["*"],fe=(()=>{let i=class i{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),ft=(()=>{let i=class i{get _bsVersions(){return qe()}constructor(e){Object.assign(this,e)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=ze[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}};i.\u0275fac=function(t){return new(t||i)(u(fe))},i.\u0275cmp=y({type:i,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,o){t&2&&(T("id",o.id),ye("show tooltip in tooltip-"+o.placement+" bs-tooltip-"+o.placement+" "+o.placement+" "+o.containerClass))},ngContentSelectors:vt,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,o){t&1&&(W(),m(0,"div",0),n(1,"div",1),ee(2),r())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0});let a=i;return a})(),bt=0,Ze=(()=>{let i=class i{get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){S("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e}set _placement(e){S("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e}set _isOpen(e){S("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e}get _isOpen(){return S("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(e){S("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!e}get _enable(){return S("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(e){S('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container}get _appendToBody(){return S('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container==="body"}set _popupClass(e){S("tooltipClass deprecated")}set _tooltipContext(e){S("tooltipContext deprecated")}set _tooltipPopupDelay(e){S("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=e}get _tooltipTrigger(){return S("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(e){S("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()}constructor(e,t,o,d,p,_){this._elementRef=d,this._renderer=p,this._positionService=_,this.tooltipId=bt++,this.adaptivePosition=!0,this.tooltipChange=new V,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new V,this._tooltip=t.createLoader(this._elementRef,e,this._renderer).provide({provide:fe,useValue:o}),Object.assign(this,o),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;let e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(ft).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},t=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=Se(this.delay).subscribe(()=>{e(),t()}),this.triggers&&He(this.triggers).forEach(o=>{o.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,o.close,()=>{this._delaySubscription?.unsubscribe(),t()}))})):e()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}};i.\u0275fac=function(t){return new(t||i)(u(Q),u(oe),u(fe),u(U),u(K),u(re))},i.\u0275dir=z({type:i,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[I.None,"tooltipHtml","htmlContent"],_placement:[I.None,"tooltipPlacement","_placement"],_isOpen:[I.None,"tooltipIsOpen","_isOpen"],_enable:[I.None,"tooltipEnable","_enable"],_appendToBody:[I.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[I.None,"tooltipClass","_popupClass"],_tooltipContext:[I.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[I.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[I.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]});let a=i;return xe([$e(),we("design:type",Object)],a.prototype,"tooltip",void 0),a})(),le=(()=>{let i=class i{static forRoot(){return{ngModule:i,providers:[oe,re]}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=D({type:i}),i.\u0275inj=F({imports:[M]});let a=i;return a})();var xt=["*"],wt=a=>["nav-item",a];function St(a,i){if(a&1){let s=w();n(0,"span",7),v("click",function(t){f(s);let o=g().$implicit,d=g();return t.preventDefault(),b(d.removeTab(o))}),l(1," \u274C"),r()}}function yt(a,i){if(a&1){let s=w();n(0,"li",3),v("keydown",function(t){let o=f(s).index,d=g();return b(d.keyNavActions(t,o))}),n(1,"a",4),v("click",function(){let t=f(s).$implicit;return b(t.active=!0)}),n(2,"span",5),l(3),r(),x(4,St,2,0,"span",6),r()()}if(a&2){let s=i.$implicit;C("active",s.active)("disabled",s.disabled),h("ngClass",ke(15,wt,s.customClass||"")),c(),C("active",s.active)("disabled",s.disabled),T("aria-controls",s.id?s.id:"")("aria-selected",!!s.active)("id",s.id?s.id+"-link":""),c(),h("ngTransclude",s.headingRef),c(),E(s.heading),c(),h("ngIf",s.removable)}}var Ct=(()=>{let i=class i{set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}constructor(e){this.viewRef=e}};i.\u0275fac=function(t){return new(t||i)(u(Q))},i.\u0275dir=z({type:i,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}});let a=i;return a})(),Et=(()=>{let i=class i{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})(),be=(()=>{let i=class i{get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}constructor(e,t,o){this.renderer=t,this.elementRef=o,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,e)}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=this.tabs.length===1&&!e.active}removeTab(e,t={reselect:!0,emit:!0}){let o=this.tabs.indexOf(e);if(!(o===-1||this.isDestroyed)){if(t.reselect&&e.active&&this.hasAvailableTabs(o)){let d=this.getClosestTabIndex(o);this.tabs[d].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(o,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,t){if(!this.isKeysAllowed)return;let o=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(e.keyCode===13||e.key==="Enter"||e.keyCode===32||e.key==="Space"){e.preventDefault(),o[t%o.length].click();return}if(e.keyCode===39||e.key==="RightArrow"){let d,p=1;do d=o[(t+p)%o.length],p++;while(d.classList.contains("disabled"));d.focus();return}if(e.keyCode===37||e.key==="LeftArrow"){let d,p=1,_=t;do _-p<0?(_=o.length-1,d=o[_],p=0):d=o[_-p],p++;while(d.classList.contains("disabled"));d.focus();return}if(e.keyCode===36||e.key==="Home"){e.preventDefault();let d,p=0;do d=o[p%o.length],p++;while(d.classList.contains("disabled"));d.focus();return}if(e.keyCode===35||e.key==="End"){e.preventDefault();let d,p=1,_=t;do _-p<0?(_=o.length-1,d=o[_],p=0):d=o[_-p],p++;while(d.classList.contains("disabled"));d.focus();return}if((e.keyCode===46||e.key==="Delete")&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),o[t+1]){o[(t+1)%o.length].focus();return}o[o.length-1]&&o[0].focus()}}getClosestTabIndex(e){let t=this.tabs.length;if(!t)return-1;for(let o=1;o<=t;o+=1){let d=e-o,p=e+o;if(this.tabs[d]&&!this.tabs[d].disabled)return d;if(this.tabs[p]&&!this.tabs[p].disabled)return p}return-1}hasAvailableTabs(e){let t=this.tabs.length;if(!t)return!1;for(let o=0;o<t;o+=1)if(!this.tabs[o].disabled&&o!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}};i.\u0275fac=function(t){return new(t||i)(u(Et),u(K),u(U))},i.\u0275cmp=y({type:i,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,o){t&2&&C("tab-container",o.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:xt,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,o){t&1&&(W(),n(0,"ul",0),v("click",function(p){return p.preventDefault()}),x(1,yt,5,17,"li",1),r(),n(2,"div",2),ee(3),r()),t&2&&(h("ngClass",o.classMap),T("aria-label",o.ariaLabel),c(),h("ngForOf",o.tabs))},dependencies:[ie,L,G,Ct],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]});let a=i;return a})(),Je=(()=>{let i=class i{get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)}),this._customClass=e?e.trim():"",this.customClass&&this.customClass.split(" ").forEach(t=>{this.renderer.addClass(this.elementRef.nativeElement,t)})}get active(){return this._active}set active(e){if(this._active!==e){if(this.disabled&&e||!e){this._active&&!e&&(this.deselect.emit(this),this._active=e);return}this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(t=>{t!==this&&(t.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(e,t,o){this.elementRef=t,this.renderer=o,this.disabled=!1,this.removable=!1,this.selectTab=new V,this.deselect=new V,this.removed=new V,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=e,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}};i.\u0275fac=function(t){return new(t||i)(u(be),u(U),u(K))},i.\u0275dir=z({type:i,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,o){t&2&&(T("id",o.id)("role",o.role)("aria-labelledby",o.ariaLabelledby),C("active",o.active)("tab-pane",o.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]});let a=i;return a})();var Ye=(()=>{let i=class i{static forRoot(){return{ngModule:i,providers:[]}}};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=D({type:i}),i.\u0275inj=F({imports:[M]});let a=i;return a})();var It=(a,i)=>({"btn-green-0":a,"btn-secondary":i});function Tt(a,i){if(a&1&&(n(0,"div",39),m(1,"img",40),r()),a&2){let s=i.$implicit;c(),me("src",s.image_url,Y)}}function Mt(a,i){if(a&1&&(n(0,"span",47),l(1),r()),a&2){let s=i.$implicit;c(),O("00",s,"")}}function Rt(a,i){if(a&1){let s=w();n(0,"div",41)(1,"div",42)(2,"h1",43),l(3),n(4,"span"),l(5),ue(6,"number"),r()(),n(7,"div",44),x(8,Mt,2,1,"span",45),r(),n(9,"button",46),v("click",function(){let t=f(s).$implicit;g();let o=Ee(37),d=g();return b(d.openModal(o,t))}),l(10,"Comprar paquete "),P(),n(11,"svg",23),m(12,"g",24)(13,"g",25),n(14,"g",26),m(15,"path",27)(16,"path",28)(17,"path",29),r()()()()()}if(a&2){let s=i.$implicit;c(3),O("",s.package_name," - "),c(2),E(he(6,3,s.package_price)),c(3),h("ngForOf",s.package_numbers_ex)}}function Ft(a,i){if(a&1){let s=w();n(0,"span",62),l(1),n(2,"span",63),v("click",function(){let t=f(s),o=t.$implicit,d=t.index,p=g(3);return b(p.deleteNumber(o,d))}),P(),n(3,"svg",64),m(4,"g",24)(5,"g",25),n(6,"g",26),m(7,"path",65),r()(),J(),n(8,"span",66),l(9,"delete number"),r()()()}if(a&2){let s=i.$implicit;c(),O(" ",s," ")}}function Dt(a,i){if(a&1){let s=w();n(0,"button",71),v("click",function(t){let o=f(s).$implicit,d=g(4);return b(d.selectNumber(o,t))}),l(1),r()}if(a&2){let s=i.$implicit,e=g(4);h("id",s)("ngClass",Ie(3,It,e.maxRange!=0,e.maxRange==0)),c(),O(" ",s," ")}}function Pt(a,i){if(a&1&&(n(0,"tab",67)(1,"span",68),l(2),r(),n(3,"div",69),x(4,Dt,2,6,"button",70),r()()),a&2){let s=i.$implicit,e=i.index;me("heading",e+1),c(2),pe("Rango ",s[0],"-",s.slice(-1),""),c(2),h("ngForOf",s)}}function Ot(a,i){if(a&1){let s=w();n(0,"div",48)(1,"h4",49),l(2,"Selecciona los numeros"),r(),n(3,"button",50),v("click",function(){f(s);let t=g(2);return b(t.modalRef==null?null:t.modalRef.hide())}),n(4,"span",51),l(5,"\xD7"),r()()(),n(6,"div",52)(7,"div",53)(8,"p"),l(9),ue(10,"number"),r()(),n(11,"div",54)(12,"div",55)(13,"button",56),v("click",function(){f(s);let t=g(2);return b(t.breakRangeLimit())}),l(14,"Agrandar paquete"),r(),n(15,"button",56),v("click",function(){f(s);let t=g(2);return b(t.selectRandomNumbers())}),l(16,"Seleccionar aleatoriamente"),r(),n(17,"button",57),v("click",function(){f(s);let t=g(2);return b(t.purchase())}),l(18,"Comprar "),P(),n(19,"svg",23),m(20,"g",24)(21,"g",25),n(22,"g",26),m(23,"path",27)(24,"path",28)(25,"path",29),r()()()()(),J(),n(26,"div",58)(27,"div",59),x(28,Ft,10,1,"span",60),r()(),m(29,"hr"),n(30,"div",53)(31,"p"),l(32,"Tablero"),r(),n(33,"tabset"),x(34,Pt,5,4,"tab",61),r()()()}if(a&2){let s=g(2);c(9),pe("Numeros seleccionados (",s.eventRangeSelectedNumbers.length,") - Pagar (",he(10,13,s.selectedPackage.package_price)," cop)"),c(4),h("disabled",s.maxRangeStatic!=s.eventRangeSelectedNumbers.length),c(2),h("disabled",!s.displayRandomBtn),c(2),h("disabled",s.maxRangeStatic>s.eventRangeSelectedNumbers.length),c(10),C("d-none",!s.eventRangeSelectedNumbers.length),c(),h("ngForOf",s.eventRangeSelectedNumbers),c(2),C("visually-hidden",s.hideTable),c(3),C("d-none",!s.event.event_range.range_numbers.length),c(),h("ngForOf",s.event.event_range.range_numbers)}}function Nt(a,i){if(a&1){let s=w();n(0,"main")(1,"div",14),m(2,"img",15),n(3,"div",16)(4,"h1",17),l(5),r(),n(6,"p",18),l(7),r(),n(8,"p",19),l(9,"Numeros disponibles"),r(),n(10,"div",20)(11,"div",21),l(12),r()(),n(13,"a",22),v("click",function(){f(s);let t=g();return b(t.navigateToSection("raffle"))}),l(14,"Paquetes "),P(),n(15,"svg",23),m(16,"g",24)(17,"g",25),n(18,"g",26),m(19,"path",27)(20,"path",28)(21,"path",29),r()()()(),J(),m(22,"div",30),r(),n(23,"div",31)(24,"h3",32),l(25,"Imagenes del "),n(26,"span",33),l(27,"premio"),r()(),x(28,Tt,2,1,"div",34),r(),n(29,"div",35)(30,"h3",36),l(31,"Paquetes disponibles para el "),n(32,"span",33),l(33,"sorteo"),r()(),n(34,"div",37),x(35,Rt,18,5,"div",38),r()(),x(36,Ot,35,15,"ng-template",null,0,Te),r()}if(a&2){let s=g();c(5),E(s.event.event_name),c(2),E(s.event.event_range.original_range_numbers.length),c(4),te("width: ",s.event.event_range.percentage,"%;"),T("aria-valuenow",s.event.event_range.percentage),c(),O("",s.event.event_range.percentage,"%"),c(16),h("ngForOf",s.event.event_images),c(7),h("ngForOf",s.event.event_packages)}}var We=(()=>{let i=class i{constructor(e,t,o,d){this.modalService=e,this.route=t,this.router=o,this.eventService=d,this.maxRange=0,this.maxRangeStatic=0,this.eventRangeSelectedNumbers=[],this.event=null,this.displayRandomBtn=!0,this.hideTable=!0}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");this.getEvent(Number(e))}getEvent(e){this.eventService.getEventById(e).subscribe(t=>{let o,d=[];var p=100,_=[];let $=[];if(this.event=t.data,!Array.isArray(this.event.event_range.range)&&!Array.isArray(this.event.event_range.range_numbers)){this.event.event_range.range=this.event.event_range.range.split("-"),d=this.event.event_range.range_numbers.split(",");for(var k=0;k<d.length;k+=p)_.push(d.slice(k,k+p));this.event.event_range.range_numbers=_;let B;for(var k=Number(this.event.event_range.range[0]);k<=Number(this.event.event_range.range[1]);k++)$.push(k);B=100*d.length/$.length,this.event.event_range.percentage=Math.round(B),this.event.event_range.original_range_numbers=d}for(let B=0;B<this.event.event_packages.length;B++){let _e=this.event.event_packages[B],st=Number(_e.package_numbers);o=Array(st).fill(1).map((qt,lt)=>lt),_e.package_numbers_ex=o}})}openModal(e,t){this.selectedPackage=t,this.modalRef=this.modalService.show(e),this.maxRangeStatic=this.selectedPackage.package_numbers,this.maxRange=this.selectedPackage.package_numbers,this.hideTable=!1}selectNumber(e,t){if(this.maxRange!=0&&this.maxRange!=101){let o=t.target;o.disabled=!0,this.eventRangeSelectedNumbers.push(e),this.maxRange--}else if(this.maxRange!=0&&this.maxRange==101){let o=t.target;o.disabled=!0,this.eventRangeSelectedNumbers.push(e),this.selectedPackage.package_price=this.selectedPackage.package_price+this.event.event_ticket_price}else this.hideTable=!0;this.displayRandomBtn=this.maxRange==this.maxRangeStatic}deleteNumber(e,t){this.maxRange!=101?(document.getElementById(e.toString()).removeAttribute("disabled"),this.eventRangeSelectedNumbers.splice(t,1),this.maxRange++):(document.getElementById(e.toString()).removeAttribute("disabled"),this.eventRangeSelectedNumbers.splice(t,1),this.selectedPackage.package_price=this.selectedPackage.package_price-this.event.event_ticket_price),this.hideTable=!1}breakRangeLimit(){this.maxRange=101,this.hideTable=!1,this.displayRandomBtn=!1}selectRandomNumbers(){for(let e=0;e<this.maxRangeStatic;e++){let t=this.event.event_range.range_numbers[Math.floor(Math.random()*this.event.event_range.range_numbers.length)],o=t[Math.floor(Math.random()*t.length)];document.getElementById(`${o}`)?.click()}this.displayRandomBtn=!1}purchase(){let e={};e.title=this.event.event_name,e.unit_price=this.selectedPackage.package_price,e.quantity=1,e.success_url="https://www.jw.org/es/",e.fail_url="https://www.jw.org/es/",this.eventService.savePreference(e).subscribe(t=>{this.eventService.saveNumbers(this.eventRangeSelectedNumbers,t.data.id),this.eventService.saveEvents(this.event.id,t.data.id),this.router.navigateByUrl(`/purchase/${t.data.id}`),this.modalRef?.hide()})}navigateToSection(e){window.location.hash="",window.location.hash=e}};i.\u0275fac=function(t){return new(t||i)(u(Ue),u(H),u(ne),u(j))},i.\u0275cmp=y({type:i,selectors:[["app-event"]],standalone:!0,features:[N],decls:18,vars:1,consts:[["template",""],[1,"navbar","navbar-expand-lg","navbar-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../../assets/img/logo.png","alt","","width","150px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],["href",".",1,"nav-link"],[4,"ngIf"],[1,"position-relative","landing"],["src","https://upload.wikimedia.org/wikipedia/commons/6/62/Nissan_GT-R_T-spec_MY2024%2C_front%2C_2023.jpg","alt","...",1,"d-block"],[1,"bg-dark","text-light","progress-card","px-5","py-4","rounded"],[1,"fw-bold","mb-5"],[1,"h1","text-center"],[1,"text-center"],[1,"progress",2,"height","30px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-green-0"],["fragment","raffle",1,"btn","btn-green-0","mt-5","w-100",3,"click"],["width","30px","height","30px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M3 8C3 6.34315 4.34315 5 6 5H18C19.6569 5 21 6.34315 21 8V16C21 17.6569 19.6569 19 18 19H6C4.34315 19 3 17.6569 3 16V8Z","stroke","#ffffff","stroke-width","2"],["d","M3 10H21","stroke","#ffffff","stroke-width","2"],["d","M14 15L17 15","stroke","#ffffff","stroke-width","2","stroke-linecap","round"],[1,"overlay"],[1,"container-fluid","px-5","d-flex","flex-wrap","justify-content-evenly"],[1,"hmax","fw-bold","my-5","text-light","w-100"],[1,"text-green-0"],["style","width: 30vw;",4,"ngFor","ngForOf"],["id","raffle",1,"container-fluid","px-5"],[1,"hmax","fw-bold","my-5","text-light"],[1,"row"],["class","p-5 col-12 col-lg-4",4,"ngFor","ngForOf"],[2,"width","30vw"],["alt","...",1,"d-block","w-100",3,"src"],[1,"p-5","col-12","col-lg-4"],[1,"bg-dark","text-light","px-5","py-4","rounded"],[1,"fw-bold"],[1,"d-flex","flex-wrap","align-items-between"],["class","rounded bg-green-0 p-1 m-2 text-center",4,"ngFor","ngForOf"],[1,"btn","btn-green-0","mt-5","w-100",3,"click"],[1,"rounded","bg-green-0","p-1","m-2","text-center"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body","row"],[1,"col-12"],[1,"col-12","py-2"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-primary","btm-sm",3,"click","disabled"],["type","button",1,"btn","btn-green-0","float-end",3,"click","disabled"],[1,"col-12","row"],[1,"col-md-8","col-12","d-flex","text-light","flex-wrap","justify-content-start"],["class","rounded p-1 m-2 text-center bg-green-0 position-relative","style","min-width: 4vw;",4,"ngFor","ngForOf"],[3,"heading",4,"ngFor","ngForOf"],[1,"rounded","p-1","m-2","text-center","bg-green-0","position-relative",2,"min-width","4vw"],["tooltip","Eliminar numero",1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger",3,"click"],["width","8px","height","8px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z","fill","#ffffff"],[1,"visually-hidden","delete-number"],[3,"heading"],[1,"text-dark","py-2"],[1,"d-flex","text-light","flex-wrap","justify-content-between"],["class","rounded p-1 m-1 text-center btn","style","min-width: 4vw;",3,"id","ngClass","click",4,"ngFor","ngForOf"],[1,"rounded","p-1","m-1","text-center","btn",2,"min-width","4vw",3,"click","id","ngClass"]],template:function(t,o){t&1&&(n(0,"nav",1)(1,"div",2)(2,"a",3),m(3,"img",4),r(),n(4,"button",5),m(5,"span",6),r(),n(6,"div",7)(7,"ul",8)(8,"li",9)(9,"a",10),l(10,"Sorteos"),r()(),n(11,"li",9)(12,"a",11),l(13,"Comprar"),r()(),n(14,"li",9)(15,"a",12),l(16,"\xBFC\xF3mo funciona?"),r()()()()()(),x(17,Nt,38,9,"main",13)),t&2&&(c(17),h("ngIf",o.event))},dependencies:[se,Ye,Je,be,le,Ze,L,G,M,ie,Me],styles:["main[_ngcontent-%COMP%]{background-color:#0000000a}nav[_ngcontent-%COMP%]{z-index:100}.overlay[_ngcontent-%COMP%]{top:0;left:0xp;position:absolute;width:100%;height:100%;background-color:#00000080;z-index:1}.landing[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;min-height:80vh}.progress-card[_ngcontent-%COMP%]{position:absolute;top:80px;left:40px;right:40px;margin-left:auto;margin-right:auto;z-index:1100}.delete-number[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let a=i;return a})();var nt=ct(it());var at=(()=>{let i=class i{constructor(e,t,o,d,p){this.formBuilder=e,this.route=t,this.router=o,this.eventService=d,this.authService=p,this.clientFormSubmited=!1,this.purchaseFormSubmited=!1,this.clientForm=this.formBuilder.group({client_name:new R("",q.required),client_lastname:new R("",q.required),client_ide:new R("",q.required),client_phone_a:new R("",q.required),client_phone_b:new R(""),client_email:new R("",q.required),client_state:new R(!0),client_numbers:new R("")})}ngOnInit(){this.route.paramMap.subscribe(e=>{this.preferenceId=e.get("ref_id")})}ngAfterViewInit(){let e=this.eventService.getNumbers(this.preferenceId);this.clientNumbers=e?.split(","),this.eventID=this.eventService.getEvents(this.preferenceId)}createPayment(){return X(this,null,function*(){this.clientForm.disable(),yield nt.loadMercadoPago(),new window.MercadoPago(Fe.mercadopagoKey).bricks().create("wallet","wallet_container",{initialization:{preferenceId:this.preferenceId},customization:{texts:{valueProp:"smart_option"}}})})}validateInput(e){console.log(e.id);let t=this.clientForm.controls[e.id];if(console.log(t),t.errors)for(let o in t.errors){let d=t.errors[o];e.setCustomValidity(d),console.log(d)}else e.setCustomValidity("")}onSubmit(){let e=this.authService.hasAccess().active;this.clientForm.controls.client_numbers.setValue(this.clientNumbers),this.clientFormSubmited=!0,this.purchaseFormSubmited=!0,this.eventService.saveClientInfo(this.clientForm.value).subscribe(t=>{console.log(t);let o={purchase_numbers:this.clientNumbers.toString(),purchase_state:!!e,client_id:t.data.client_ide,event_id:Number(this.eventID),success_url:"https://www.jw.org/es/",fail_url:"https://www.youtube.com/"};console.log(o),this.eventService.createPurchase(o).subscribe({next:d=>{e||this.createPayment(),this.router.navigateByUrl(`/admin/dash/sales-event-detail/${this.eventID}`)},error:d=>{console.log(d)}})})}};i.\u0275fac=function(t){return new(t||i)(u(Le),u(H),u(ne),u(j),u(ae))},i.\u0275cmp=y({type:i,selectors:[["app-user-form"]],standalone:!0,features:[N],decls:51,vars:6,consts:[["wallet_container",""],[1,"container","d-flex","justify-content-center","align-items-center","py-5",2,"min-height","100vh"],[1,"bg-dark","rounded","p-3","text-light",2,"min-width","90vw"],[1,"pb-5"],[1,"h2"],[1,"h5"],["id","clientForm","novalidate","",1,"needs-validation","row",3,"formGroup"],[1,"mb-3","col-md-6","col-12"],["for","client_name",1,"form-label"],["type","text","id","client_name","formControlName","client_name","required","",1,"form-control"],[1,"invalid-feedback"],["for","client_lastname",1,"form-label"],["id","client_lastname","rows","3","formControlName","client_lastname","required","",1,"form-control"],["for","client_ide",1,"form-label"],["type","text","id","client_ide","formControlName","client_ide","required","",1,"form-control"],["for","client_phone_a",1,"form-label"],["type","phone","id","client_phone_a","formControlName","client_phone_a","required","",1,"form-control"],["for","client_phone_b",1,"form-label"],["type","phone","id","client_phone_b","formControlName","client_phone_b",1,"form-control"],["for","client_email",1,"form-label"],["type","email","id","client_email","formControlName","client_email","required","",1,"form-control"],[1,"col-12"],["id","wallet_container"],[1,"btn","btn-success","w-100",3,"click","disabled"],[1,""],["href",""]],template:function(t,o){if(t&1){let d=w();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"p",4),l(4,"Pagar"),r(),n(5,"p",5),l(6,"En este formulario prodras hacer valida tu compra."),r()(),n(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Nombre"),r(),m(11,"input",9),n(12,"div",10),l(13," Nombre es requerido. "),r()(),n(14,"div",7)(15,"label",11),l(16,"Apellidos"),r(),m(17,"input",12),n(18,"div",10),l(19," Apellidos son requeridos. "),r()(),n(20,"div",7)(21,"label",13),l(22,"CC"),r(),m(23,"input",14),n(24,"div",10),l(25," Numero de documento es requerido. "),r()(),n(26,"div",7)(27,"label",15),l(28,"Telefono"),r(),m(29,"input",16),n(30,"div",10),l(31," Telefono es requerido. "),r()(),n(32,"div",7)(33,"label",17),l(34,"Telefono alternativo"),r(),m(35,"input",18),r(),n(36,"div",7)(37,"label",19),l(38,"Correo electronico"),r(),m(39,"input",20),n(40,"div",10),l(41," Correo es requerido. "),r()(),n(42,"div",21),m(43,"div",22,0),n(45,"button",23),v("click",function(){return f(d),b(o.onSubmit())}),l(46,"Guardar"),r(),n(47,"small",24),l(48,"Guardamos tus datos para la entrega de los premios. Conoce mas de la pilitica de tratamiento de datos "),n(49,"a",25),l(50,"aqui"),r()()()()()()}t&2&&(c(7),C("was-validated",o.clientFormSubmited),h("formGroup",o.clientForm),c(38),C("visually-hidden",o.clientFormSubmited),h("disabled",!o.clientForm.valid))},dependencies:[Ge,je,Pe,Oe,Ne,Be,Ve,Ae]});let a=i;return a})();var rt=(()=>{let i=class i{constructor(e,t){this.route=e,this.eventService=t}ngOnInit(){this.route.paramMap.subscribe(e=>{this.itemID=e.get("id")})}};i.\u0275fac=function(t){return new(t||i)(u(H),u(j))},i.\u0275cmp=y({type:i,selectors:[["app-purchase-result"]],standalone:!0,features:[N],decls:2,vars:0,template:function(t,o){t&1&&(n(0,"p"),l(1,"purchase-result works!"),r())}});let a=i;return a})();var Ht=[{path:"",component:Xe},{path:"event/:id",component:We},{path:"purchase/:ref_id",component:at},{path:"purchase-result/:id",component:rt}],ot=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=D({type:i}),i.\u0275inj=F({imports:[ge.forChild(Ht),ge]});let a=i;return a})();var Zi=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=D({type:i}),i.\u0275inj=F({imports:[M,ot,le.forRoot(),se.forRoot()]});let a=i;return a})();export{Zi as WebModule};
