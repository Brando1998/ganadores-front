import './polyfills.server.mjs';
import{a as j}from"./chunk-GH647DR2.mjs";import{b as H}from"./chunk-H3LGCYUR.mjs";import{b as f}from"./chunk-HRWFVXUO.mjs";import{b as z,c as D,f as R,g as E,w as _}from"./chunk-WRXCKRHJ.mjs";import{$a as l,B as v,H as C,Oa as M,Qb as S,U as y,Ua as x,Wa as b,Za as c,_ as i,_a as m,bc as k,ca as a,dc as d,jc as A,mc as I,n as h,nb as w,nc as F,oc as T,sb as p,tc as O,vc as P}from"./chunk-F6KAAKFR.mjs";var u=(()=>{let t=class t{constructor(){this.loading=M(!0)}setLoading(r){this.loading.set(r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function K(e,t){e&1&&(c(0,"div",1),l(1,"div",2),m())}var B=(()=>{let t=class t{constructor(){this.spinnerService=i(u),this.loading=this.spinnerService.loading}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=a({type:t,selectors:[["app-spinner"]],standalone:!0,features:[p],decls:1,vars:1,consts:[["class","cssload-container",4,"ngIf"],[1,"cssload-container"],[1,"cssload-speeding-wheel"]],template:function(o,n){o&1&&x(0,K,2,0,"div",0),o&2&&b("ngIf",n.loading())},dependencies:[d,k],styles:['.cssload-container[_ngcontent-%COMP%]{position:fixed;width:100%;inset:0;background-color:#eed3afb3;z-index:9999}.cssload-speeding-wheel[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:48%;top:40%;width:63px;height:63px;margin:0 auto;border:4px solid #ffbf00;border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-o-animation:cssload-spin .5s infinite linear;-ms-animation:cssload-spin .5s infinite linear;-webkit-animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-moz-animation:cssload-spin .5s infinite linear}@keyframes _ngcontent-%COMP%_cssload-spin{to{transform:rotate(360deg)}}@-o-keyframes cssload-spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes cssload-spin{to{-ms-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes _ngcontent-%COMP%_cssload-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes cssload-spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}']});let e=t;return e})();var L=(()=>{let t=class t{constructor(){this.title="ganadores"}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=a({type:t,selectors:[["app-root"]],standalone:!0,features:[p],decls:2,vars:0,template:function(o,n){o&1&&l(0,"app-spinner")(1,"router-outlet")},dependencies:[d,z,B,H,_]});let e=t;return e})();var G=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=a({type:t,selectors:[["app-page-404"]],standalone:!0,features:[p],decls:2,vars:0,template:function(o,n){o&1&&(c(0,"p"),w(1,"page-404 works!"),m())}});let e=t;return e})();var U=(e,t)=>{let s=i(f),r=i(D);return s.hasAccess().active?!0:(s.logout(),r.navigateByUrl("/auth/sign"),!1)};var N=[{path:"auth",loadChildren:()=>import("./chunk-RVL77NP4.mjs").then(e=>e.AuthModule)},{path:"admin",canActivate:[U],loadChildren:()=>import("./chunk-UC24BBIH.mjs").then(e=>e.AdminModule)},{path:"",loadChildren:()=>import("./chunk-VLZ3YW6O.mjs").then(e=>e.WebModule)},{path:"**",component:G,pathMatch:"full"}];var W=(e,t)=>{let s=i(u);return s.setLoading(!0),console.log("loading"),t(e).pipe(C(()=>{console.log("loading end"),s.setLoading(!1)}))};function $(e,t){var s=i(f);if(e.url.includes("admin")&&s.hasAccess().active){let r=s.getAccessToken();console.log(r);let o=e.clone({setHeaders:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",accept:"*/*",Authorization:`Bearer ${r}`}});return t(o).pipe(v(n=>(n instanceof A?n.status===401?console.error("Unauthorized request:",n):console.error("HTTP error:",n):console.error("An error occurred:",n),h(()=>n))))}else return t(e)}var q={providers:[R(N,E()),P(),I(T(),F([$,W]))]};var Q={providers:[j()]},J=S(q,Q);var V=()=>O(L,J),Nt=V;export{Nt as a};
